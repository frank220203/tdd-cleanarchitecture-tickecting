# 부하 테스트
<details>
<summary><b>대상</b></summary>

1. 대기열 참가 API
</details>

<details>
<summary><b>목적</b></summary>

- 예상되는 정상 사용자의 수를 시뮬레이션하여 시스템의 안정성을 평가
- 시스템이 처리할 수 있는 최대 처리량(TPS)을 테스트하여 시스템의 한계 평가
- 각 API의 응답 속도(Duration)을 테스트하여 성능 평가
- 각 평가들의 결과를 통해 장애 예방 및 성능 개선 계획 수립
</details>

<details>
<summary><b>시나리오</b></summary>

1. 대기열 참가 API
 - Local PC의 CPU 한계로 최대 3000 건 수행
 - Duration 평가 (avg, max, p95)
 - TPS(RPS) 평가
 - 실패 요청 비율 평가

![대기열-과부하-3000](https://github.com/user-attachments/assets/7df13e7d-fa7d-482f-a791-13b1ebb59e36)
![대기열-그라파냐-3000](https://github.com/user-attachments/assets/1716c029-539f-43fc-8f40-89cf4ce2d8de)
```text
[테스트 결과]
 - Duration : 
    - 평균(avg) : 212.32ms
    - 최대(max) : 431.16ms
    - p(95) : 397.17ms
 - TPS(RPS) : 46.8 
 - 실패 요청 비율 : 1.13% (34/3000)
 
[평가]
 - 평균 응답 시간이 약 212.32ms로 상대적으로 좋은 성능을 보이고 있다.
 - 응답 시간의 최대값이 431.16ms로 상대적으로 길어 일부 요청에 병목 현상이 있는 것 같다.
 - 실패 비율이 1.13%은 k6 script에서 customerId를 랜덤으로 설정하여 요청하고 있는데, 현재 비즈니스 로직은 동일한 customerId가 대기열 참가를 요구하면 error가 발생하게 되어 있다.  
```
</details>

[BackToReadMe](../../README.md)